<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esmaü'l Hüsna - Gönül Aynası</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Cinzel:wght@400;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f5f5f0;
            background-image: radial-gradient(#e0e0d8 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .arabic-font {
            font-family: 'Amiri', serif;
            line-height: 1.4;
        }
        .title-font {
            font-family: 'Cinzel', serif;
        }
        .card-container {
            perspective: 1000px;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.8s;
            transform-style: preserve-3d;
        }
        /* Class to handle flip state */
        .card-flipped {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 1rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }
        .card-front {
            /* Parchment style background */
            background-color: #fdfbf7;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%230f172a' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            color: #1e1b4b; /* Dark Navy Text */
            border: 4px solid #064e3b;
        }
        .card-back {
            background: #fffbeb;
            color: #1e293b;
            transform: rotateY(180deg);
            border: 2px solid #064e3b;
        }
        .ornament {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }
        .ornament::before, .ornament::after {
            content: "";
            height: 1px;
            background-color: currentColor;
            flex: 1;
            opacity: 0.5;
            margin: 0 10px;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col text-slate-800">

    <!-- Header -->
    <header class="bg-emerald-900 text-amber-100 p-4 shadow-lg sticky top-0 z-50">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold title-font tracking-wider flex items-center gap-2">
                <!-- Hilal Logo -->
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-amber-300" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                </svg>
                <span>Gönül Aynası</span>
            </h1>
            <div class="text-xs md:text-sm opacity-80 italic">Esmaü'l Hüsna Talimi</div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow flex flex-col items-center justify-center p-4 w-full max-w-2xl mx-auto">
        
        <!-- Mode Switcher -->
        <div class="flex bg-white rounded-full p-1 shadow-md mb-6 w-full max-w-xs border border-emerald-100">
            <button id="btn-tefekkur" onclick="switchMode('tefekkur')" class="flex-1 py-2 px-4 rounded-full text-sm font-medium transition-all bg-emerald-800 text-white shadow-sm">
                Tefekkür
            </button>
            <button id="btn-imtihan" onclick="switchMode('imtihan')" class="flex-1 py-2 px-4 rounded-full text-sm font-medium text-slate-600 hover:bg-emerald-50 transition-all">
                İmtihan
            </button>
            <button id="btn-liste" onclick="switchMode('liste')" class="flex-1 py-2 px-4 rounded-full text-sm font-medium text-slate-600 hover:bg-emerald-50 transition-all">
                Liste
            </button>
        </div>

        <!-- PROGRESS BAR -->
        <div id="progress-container" class="w-full mb-4 px-2 hidden">
            <div class="flex justify-between text-xs text-emerald-800 mb-1 font-semibold">
                <span>İlerleme</span>
                <span id="progress-text">1 / 99</span>
            </div>
            <div class="w-full bg-emerald-200 rounded-full h-2">
                <div id="progress-bar" class="bg-emerald-600 h-2 rounded-full transition-all duration-300" style="width: 1%"></div>
            </div>
        </div>

        <!-- TEFEKKÜR MODE (Flashcard) -->
        <div id="tefekkur-mode" class="w-full h-96 card-container group" onclick="flipCard()">
            <div id="flashcard" class="card-inner relative w-full h-full">
                <!-- Front -->
                <div class="card-front p-6">
                    <div class="absolute top-4 left-4 text-xs font-bold opacity-60 border border-indigo-900/30 rounded-full px-2 py-0.5 text-indigo-900" id="card-index">1</div>
                    <div class="flex-grow flex flex-col justify-center items-center">
                        <!-- Dark Navy Text -->
                        <div class="arabic-font text-7xl mb-6 text-indigo-950 drop-shadow-sm font-bold" id="card-arabic">اَللّٰهْ</div>
                        <div class="ornament w-1/2 text-indigo-900/40 text-xl">❦</div>
                        <h2 class="title-font text-4xl font-black tracking-widest uppercase mt-2 text-indigo-950" id="card-trans">ALLAH</h2>
                    </div>
                    <div class="mt-auto text-sm opacity-60 italic mb-2 text-indigo-900">Manası için dokununuz ↻</div>
                </div>
                <!-- Back -->
                <div class="card-back p-8 overflow-y-auto">
                    <div class="absolute top-4 right-4 text-emerald-800/30">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                    </div>
                    <h3 class="title-font text-2xl font-bold text-emerald-800 mb-4 border-b-2 border-emerald-100 pb-2" id="back-title">Allah</h3>
                    <p class="text-lg leading-relaxed text-slate-700 font-medium" id="card-meaning">
                        Varlığı zorunlu olan ve bütün övgülere layık bulunan zâtın husûsî ve en kapsamlı ism-i şerifi.
                    </p>
                    <div class="mt-auto pt-6 text-emerald-600 flex flex-col items-center gap-2">
                        <span class="text-2xl">❧</span>
                        <span class="text-xs opacity-50 italic">Geri dönmek için dokununuz</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- CONTROLS for Tefekkur -->
        <div id="controls-tefekkur" class="flex gap-4 mt-8 w-full justify-center items-center">
            <button onclick="prevCard(event)" class="p-3 rounded-full bg-white border border-emerald-200 text-emerald-800 hover:bg-emerald-50 shadow-sm transition-transform active:scale-95">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
            
            <button onclick="toggleAutoPlay(event)" id="autoplay-btn" class="flex items-center gap-2 px-6 py-3 rounded-full bg-emerald-800 text-amber-100 hover:bg-emerald-700 shadow-md transition-transform active:scale-95 font-medium">
                <span id="play-icon">▶</span> <span id="play-text">Otomatik Oku</span>
            </button>

            <button onclick="nextCard(event)" class="p-3 rounded-full bg-white border border-emerald-200 text-emerald-800 hover:bg-emerald-50 shadow-sm transition-transform active:scale-95">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </div>

        <!-- İMTİHAN MODE (Quiz) -->
        <div id="imtihan-mode" class="hidden w-full max-w-md bg-white p-6 rounded-2xl shadow-xl border border-emerald-100">
            <div class="text-center mb-6">
                <span class="bg-amber-100 text-amber-800 text-xs font-semibold px-2.5 py-0.5 rounded border border-amber-200">Soru <span id="quiz-q-num">1</span></span>
                <p class="mt-4 text-lg text-slate-700 font-medium leading-relaxed" id="quiz-question">
                    ...
                </p>
            </div>
            <div class="grid grid-cols-1 gap-3" id="quiz-options">
                <!-- Options injected by JS -->
            </div>
            <div id="quiz-feedback" class="mt-4 text-center h-6 font-bold text-sm"></div>
            <button onclick="nextQuestion()" class="w-full mt-4 bg-emerald-600 text-white py-2 rounded-lg hover:bg-emerald-700 hidden" id="next-q-btn">Sonraki Sual</button>
        </div>

        <!-- LISTE MODE -->
        <div id="liste-mode" class="hidden w-full h-[60vh] overflow-y-auto bg-white rounded-xl shadow-inner border border-slate-200 p-2">
            <div id="full-list" class="space-y-2">
                <!-- List injected by JS -->
            </div>
        </div>

    </main>

    <script>
        // Veri Seti - Gönül Hazinesi
        const esmaList = [
            { id: 1, ar: "اَللّٰهْ", tr: "Allah", mean: "Varlığı zorunlu olan ve bütün övgülere layık bulunan zâtın husûsî ve en kapsamlı ism-i şerifi." },
            { id: 2, ar: "اَلرَّحْمٰنُ", tr: "er-Rahmân", mean: "Bütün mahlûkâta merhamet eden, hepsine de nîmetler veren." },
            { id: 3, ar: "اَلرَّح۪يمُ", tr: "er-Rahîm", mean: "Pek ziyâde merhamet edici, bilhassa mü’minlere rahmet eden." },
            { id: 4, ar: "اَلْمَلِكُ", tr: "el-Melik", mean: "Görünen ve görünmeyen alemlerin sahibi." },
            { id: 5, ar: "اَلْقُدُّوسُ", tr: "el-Kuddûs", mean: "Hatâdan, gafletten, aczden ve her türlü eksiklikten münezzeh/çok uzak ve pek temiz." },
            { id: 6, ar: "اَلسَّلَامُ", tr: "es-Selâm", mean: "Her çeşit ârıza ve hâdiselerden sâlim kalan, selâmete çıkaran." },
            { id: 7, ar: "اَلْمُؤْمِنُ", tr: "el-Mü’min", mean: "Gönüllerde îman ışığı yakan, kendine sığınanlara eman verip onları koruyan, güven veren." },
            { id: 8, ar: "اَلْمُهَيْمِنُ", tr: "el-Müheymin", mean: "Kâinâtın bütün işlerini gözetip yöneten ve koruyan." },
            { id: 9, ar: "اَلْعَز۪يزُ", tr: "el-Azîz", mean: "Yenilmeyen yegâne gâlip." },
            { id: 10, ar: "اَلْجَبّٰارُ", tr: "el-Cebbâr", mean: "Kırılanları onaran, eksikleri tamamlayan, dilediğini zorla yaptırmaya muktedir olan." },
            { id: 11, ar: "اَلْمُتَكَبِّرُ", tr: "el-Mütekebbir", mean: "Her şeyde ve her hâdisede büyüklüğünü gösteren." },
            { id: 12, ar: "اَلْخَالِقُ", tr: "el-Hâlık", mean: "Her şeyi, halleri, hâdiseleri tayin ve tesbit eden ve ona göre yaratan." },
            { id: 13, ar: "اَلْبَارِئُ", tr: "el-Bâri’", mean: "Eşyâyı ve her şeyin âzâ ve cihazlarını birbirine uygun bir hâlde yaratan." },
            { id: 14, ar: "اَلْمُصَوِّرُ", tr: "el-Musavvir", mean: "Tasvîr eden, her şeye bir şekil ve hususiyet veren." },
            { id: 15, ar: "اَلْغَفَّارُ", tr: "el-Ğaffâr", mean: "Mağfireti pek bol olan. Dilediği kullarını da günahlardan koruyan." },
            { id: 16, ar: "اَلْقَهَّارُ", tr: "el-Kahhâr", mean: "Her şeye, her istediğini yapacak surette gâlib ve hâkim." },
            { id: 17, ar: "اَلْوَهَّابُ", tr: "el-Vehhâb", mean: "Çeşit çeşit nimetleri devamlı bağışlayıp duran. Karşılık beklemeden veren." },
            { id: 18, ar: "اَلرَّزَّاقُ", tr: "er-Rezzâk", mean: "Bedenlerin ve ruhların gıdasını yaratıp veren." },
            { id: 19, ar: "اَلْفَتَّاحُ", tr: "el-Fettâh", mean: "Her türlü müşkülleri açan ve kolaylaştıran, iyilik kapılarını açan." },
            { id: 20, ar: "اَلْعَل۪يمُ", tr: "el-Alîm", mean: "Her şeyi hakkıyla ve çok iyi bilen." },
            { id: 21, ar: "اَلْقَابِضُ", tr: "el-Kâbıd", mean: "Sıkan, daraltan, rızkı daraltan, canlıların rûhunu alan." },
            { id: 22, ar: "اَلْبَاسِطُ", tr: "el-Bâsıt", mean: "Açan, genişleten, rızkı bollaştıran, ruhları bedenlerine yayan." },
            { id: 23, ar: "اَلْخَافِضُ", tr: "el-Hâfıd", mean: "Yukarıdan aşağıya indiren, alçaltan, zillete düşüren." },
            { id: 24, ar: "اَلرَّافِعُ", tr: "er-Râfi’", mean: "Yukarı kaldıran, yükselten, yücelten." },
            { id: 25, ar: "اَلْمُعِزُّ", tr: "el-Mu’izz", mean: "İzzet ve şeref veren, ağırlayan." },
            { id: 26, ar: "اَلْمُذِلُّ", tr: "el-Müzill", mean: "Zillete düşüren, hor ve hakîr eden." },
            { id: 27, ar: "اَلسَّم۪يعُ", tr: "es-Semi’", mean: "Hakkıyla işiten." },
            { id: 28, ar: "اَلْبَص۪يرُ", tr: "el-Basîr", mean: "Hakkıyla gören." },
            { id: 29, ar: "اَلْحَكَمُ", tr: "el-Hakem", mean: "Hükmeden, hakkı yerine getiren, hükmünü eksiksiz icrâ eden." },
            { id: 30, ar: "اَلْعَدْلُ", tr: "el-Adl", mean: "Mutlak adâlet sahibi, aşırılığa meyletmeyen." },
            { id: 31, ar: "اَللَّط۪يفُ", tr: "el-Latîf", mean: "En ince işlerin bütün inceliklerini bilen, lütuf sahibi." },
            { id: 32, ar: "اَلْخَب۪يرُ", tr: "el-Habîr", mean: "Her şeyin iç yüzünden, gizli taraflarından haberdar olan." },
            { id: 33, ar: "اَلْحَل۪يمُ", tr: "el-Halîm", mean: "Suçluların cezâsını vermeye gücü yettiği hâlde onlara yumuşak davranan." },
            { id: 34, ar: "اَلْعَظ۪يمُ", tr: "el-Azîm", mean: "Bütün büyüklüklerin sâhibi." },
            { id: 35, ar: "اَلْغَفُورُ", tr: "el-Ğafûr", mean: "Mağfireti çok olan, bütün günahları bağışlayan." },
            { id: 36, ar: "اَلشَّكُورُ", tr: "eş-Şekûr", mean: "Az tâat karşılığında çok büyük dereceler veren." },
            { id: 37, ar: "اَلْعَلِيُّ", tr: "el-Aliyy", mean: "Her hususta, her şeyden yüce olan." },
            { id: 38, ar: "اَلْكَب۪يرُ", tr: "el-Kebîr", mean: "Büyüklükte kendisinden daha büyüğü düşünülemeyen." },
            { id: 39, ar: "اَلْحَف۪يظُ", tr: "el-Hafîz", mean: "Her şeyi koruyup gözeten." },
            { id: 40, ar: "اَلْمُق۪يتُ", tr: "el-Mukît", mean: "Her yaratılmışın azığını ve gıdasını tayin eden." },
            { id: 41, ar: "اَلْحَس۪يبُ", tr: "el-Hasîb", mean: "Herkesin hesabını iyi bilen, her şeye kâfi gelen." },
            { id: 42, ar: "اَلْجَل۪يلُ", tr: "el-Celîl", mean: "Celâdet, azamet ve heybet sâhibi." },
            { id: 43, ar: "اَلْكَر۪يمُ", tr: "el-Kerîm", mean: "Keremi, lütuf ve ihsânı bol olan." },
            { id: 44, ar: "اَلرَّق۪يبُ", tr: "er-Rakîb", mean: "Bütün varlıklar üzerinde gözcü." },
            { id: 45, ar: "اَلْمُج۪يبُ", tr: "el-Mücîb", mean: "Dualara cevap veren." },
            { id: 46, ar: "اَلْوَاسِعُ", tr: "el-Vâsi’", mean: "İlmi ve rahmeti geniş olan." },
            { id: 47, ar: "اَلْحَك۪يمُ", tr: "el-Hakîm", mean: "Bütün işleri hikmetli olan." },
            { id: 48, ar: "اَلْوَدُودُ", tr: "el-Vedûd", mean: "İyi kullarını seven, sevilmeye layık olan." },
            { id: 49, ar: "اَلْمَج۪يدُ", tr: "el-Mecîd", mean: "Şanı yüce ve övgüye layık olan." },
            { id: 50, ar: "اَلْبَاعِثُ", tr: "el-Bâis", mean: "Ölüleri dirilten." },
            { id: 51, ar: "اَلشَّه۪يدُ", tr: "eş-Şehîd", mean: "Her yerde hâzır ve nâzır olan." },
            { id: 52, ar: "اَلْحَقُّ", tr: "el-Hakk", mean: "Varlığı hiç değişmeden duran, gerçek olan." },
            { id: 53, ar: "اَلْوَك۪يلُ", tr: "el-Vekîl", mean: "Kendisine güvenilip dayanılan." },
            { id: 54, ar: "اَلْقَوِيُّ", tr: "el-Kaviyy", mean: "Çok kuvvetli, kudretli." },
            { id: 55, ar: "اَلْمَت۪ينُ", tr: "el-Metîn", mean: "Çok sağlam." },
            { id: 56, ar: "اَلْوَلِيُّ", tr: "el-Veliyy", mean: "İyi kullarına dost olan." },
            { id: 57, ar: "اَلْحَم۪يدُ", tr: "el-Hamîd", mean: "Ancak kendisine hamd edilen." },
            { id: 58, ar: "اَلْمُحْص۪ي", tr: "el-Muhsî", mean: "Her şeyin sayısını bilen." },
            { id: 59, ar: "اَلْمُبْدِئُ", tr: "el-Mübdi’", mean: "Örneksiz yaratan." },
            { id: 60, ar: "اَلْمُع۪يدُ", tr: "el-Mu’îd", mean: "Tekrar yaratan." },
            { id: 61, ar: "اَلْمُحْي۪", tr: "el-Muhyî", mean: "Hayat veren." },
            { id: 62, ar: "اَلْمُم۪يتُ", tr: "el-Mümît", mean: "Öldüren." },
            { id: 63, ar: "اَلْحَيُّ", tr: "el-Hayy", mean: "Dâimâ diri." },
            { id: 64, ar: "اَلْقَيُّومُ", tr: "el-Kayyûm", mean: "Her şeyi ayakta tutan." },
            { id: 65, ar: "اَلْوَاجِدُ", tr: "el-Vâcid", mean: "İstediğini, istediği vakit bulan." },
            { id: 66, ar: "اَلْمَاجِدُ", tr: "el-Mâcid", mean: "Kadr ü şânı büyük." },
            { id: 67, ar: "اَلْوَاحِدُ", tr: "el-Vâhid", mean: "Tek." },
            { id: 68, ar: "اَلصَّمَدُ", tr: "es-Samed", mean: "Kimseye muhtaç olmayan, her şeyin kendisine muhtaç olduğu." },
            { id: 69, ar: "اَلْقَادِرُ", tr: "el-Kâdir", mean: "İstediğini yapmaya gücü yeten." },
            { id: 70, ar: "اَلْمُقْتَدِرُ", tr: "el-Muktedir", mean: "Kuvvet sâhipleri üzerinde tasarruf eden." },
            { id: 71, ar: "اَلْمُقَدِّمُ", tr: "el-Mukaddim", mean: "İstediğini öne alan." },
            { id: 72, ar: "اَلْمُؤَخِّرُ", tr: "el-Muahhir", mean: "İstediğini geriye bırakan." },
            { id: 73, ar: "اَلْاَوَّلُ", tr: "el-Evvel", mean: "Başlangıcı olmayan." },
            { id: 74, ar: "اَلْاٰخِرُ", tr: "el-Âhir", mean: "Sonu olmayan." },
            { id: 75, ar: "اَلظَّاهِرُ", tr: "ez-Zâhir", mean: "Varlığı aşikâr olan." },
            { id: 76, ar: "اَلْبَاطِنُ", tr: "el-Bâtın", mean: "Mahiyeti gizli olan." },
            { id: 77, ar: "اَلْوٰالى", tr: "el-Vâlî", mean: "Kâinatı idare eden." },
            { id: 78, ar: "اَلْمُتَعَال۪ى", tr: "el-Müteâlî", mean: "Pek yüce." },
            { id: 79, ar: "اَلْبَرُّ", tr: "el-Berr", mean: "İyiliği çok olan." },
            { id: 80, ar: "اَلتَّوَّابُ", tr: "et-Tevvâb", mean: "Tevbeleri kabûl eden." },
            { id: 81, ar: "اَلْمُنْتَقِمُ", tr: "el-Müntekım", mean: "Suçluları cezalandıran." },
            { id: 82, ar: "اَلْعَفُوُّ", tr: "el-Afüvv", mean: "Affı çok olan." },
            { id: 83, ar: "اَلرَّؤُۧفُ", tr: "er-Raûf", mean: "Çok şefkatli." },
            { id: 84, ar: "مَالِكُ الْمُلْكِ", tr: "Mâlikü’l-Mülk", mean: "Mülkün ebedi sahibi." },
            { id: 85, ar: "ذُو الْجَلَالِ وَالْاِكْرَامِ", tr: "Zü’l-Celâli ve’l-İkrâm", mean: "Büyüklük ve ikram sahibi." },
            { id: 86, ar: "اَلْمُقْسِطُ", tr: "el-Muksit", mean: "Adâlet sâhibi." },
            { id: 87, ar: "اَلْجَامِعُ", tr: "el-Câmi’", mean: "İstediğini toplayan." },
            { id: 88, ar: "اَلْغَنِيُّ", tr: "el-Ğaniyy", mean: "Çok zengin." },
            { id: 89, ar: "اَلْمُغْن۪ي", tr: "el-Muğnî", mean: "Zengin eden." },
            { id: 90, ar: "اَلْمَانِعُ", tr: "el-Mâni’", mean: "Kötü şeylere mâni olan." },
            { id: 91, ar: "اَلضَّآرُّ", tr: "ed-Dârr", mean: "Elem ve zarar verici şeyleri de yaratan (İmtihan için)." },
            { id: 92, ar: "اَلنَّافِعُ", tr: "en-Nâfi’", mean: "Fayda veren." },
            { id: 93, ar: "اَلنُّورُ", tr: "en-Nûr", mean: "Âlemleri nurlandıran." },
            { id: 94, ar: "اَلْهَاد۪ى", tr: "el-Hâdî", mean: "Hidâyet veren." },
            { id: 95, ar: "اَلْبَد۪يعُ", tr: "el-Bedî‘", mean: "Örneksiz yaratan." },
            { id: 96, ar: "اَلْبَاق۪ي", tr: "el-Bâkî", mean: "Sonsuz olan." },
            { id: 97, ar: "اَلْوَارِثُ", tr: "el-Vâris", mean: "Her şeyin hakikî sâhibi." },
            { id: 98, ar: "اَلرَّش۪يدُ", tr: "er-Reşîd", mean: "Doğru yola ileten." },
            { id: 99, ar: "اَلصَّبُورُ", tr: "es-Sabûr", mean: "Çok sabırlı." }
        ];

        // Durum Değişkenleri
        let currentIndex = 0;
        let isFlipped = false;
        let isAutoPlaying = false;
        let autoPlayInterval;
        let currentMode = 'tefekkur';

        // Element Referansları
        const cardContainer = document.querySelector('.card-container');
        const cardInner = document.querySelector('.card-inner');
        const elArabic = document.getElementById('card-arabic');
        const elTrans = document.getElementById('card-trans');
        const elMeaning = document.getElementById('card-meaning');
        const elIndex = document.getElementById('card-index');
        const elBackTitle = document.getElementById('back-title');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        
        // Mod Elementleri
        const viewTefekkur = document.getElementById('tefekkur-mode');
        const viewImtihan = document.getElementById('imtihan-mode');
        const viewListe = document.getElementById('liste-mode');
        const controlsTefekkur = document.getElementById('controls-tefekkur');
        const progressContainer = document.getElementById('progress-container');

        // Başlangıç
        function init() {
            renderCard();
            renderList();
        }

        // Kart Render
        function renderCard() {
            const data = esmaList[currentIndex];
            
            // Eğer kart tersse düzelt
            if(isFlipped) {
                cardInner.classList.remove('card-flipped'); // CSS sınıfını kaldır
                // Animasyon bitince içeriği değiştir
                setTimeout(() => updateContent(data), 300);
                isFlipped = false;
            } else {
                updateContent(data);
            }
            updateProgress();
        }

        function updateContent(data) {
            elArabic.innerText = data.ar;
            elTrans.innerText = data.tr;
            elMeaning.innerText = data.mean;
            elIndex.innerText = data.id;
            elBackTitle.innerText = data.tr;
        }

        function updateProgress() {
            const percent = ((currentIndex + 1) / esmaList.length) * 100;
            progressBar.style.width = `${percent}%`;
            progressText.innerText = `${currentIndex + 1} / 99`;
        }

        // Etkileşimler
        function flipCard() {
            // isFlipped durumunu tersine çevir
            isFlipped = !isFlipped;
            
            // CSS sınıfını ekle veya çıkar
            if(isFlipped) {
                cardInner.classList.add('card-flipped');
            } else {
                cardInner.classList.remove('card-flipped');
            }
        }

        function nextCard(e) {
            if(e) e.stopPropagation(); // Kartın dönmesini engelle
            if (currentIndex < esmaList.length - 1) {
                currentIndex++;
            } else {
                currentIndex = 0; // Başa dön
            }
            renderCard();
        }

        function prevCard(e) {
            if(e) e.stopPropagation(); // Kartın dönmesini engelle
            if (currentIndex > 0) {
                currentIndex--;
            } else {
                currentIndex = esmaList.length - 1; // Sona git
            }
            renderCard();
        }

        function toggleAutoPlay(e) {
            if(e) e.stopPropagation(); // Kartın dönmesini engelle
            const btn = document.getElementById('autoplay-btn');
            const icon = document.getElementById('play-icon');
            const text = document.getElementById('play-text');

            if (isAutoPlaying) {
                clearInterval(autoPlayInterval);
                isAutoPlaying = false;
                btn.classList.remove('bg-red-600', 'hover:bg-red-700');
                btn.classList.add('bg-emerald-800', 'hover:bg-emerald-700');
                icon.innerText = "▶";
                text.innerText = "Otomatik Oku";
            } else {
                isAutoPlaying = true;
                btn.classList.remove('bg-emerald-800', 'hover:bg-emerald-700');
                btn.classList.add('bg-red-600', 'hover:bg-red-700');
                icon.innerText = "⏸";
                text.innerText = "Duraklat";
                
                autoPlayInterval = setInterval(() => {
                    if(!isFlipped) {
                        flipCard();
                        setTimeout(() => {
                            nextCard();
                        }, 3000); // 3 saniye manayı oku
                    }
                }, 5000); // 5 saniyede bir döngü
            }
        }

        // Mod Değiştirme
        function switchMode(mode) {
            currentMode = mode;
            
            // UI Güncelleme
            document.getElementById('btn-tefekkur').className = mode === 'tefekkur' ? 'flex-1 py-2 px-4 rounded-full text-sm font-medium transition-all bg-emerald-800 text-white shadow-sm' : 'flex-1 py-2 px-4 rounded-full text-sm font-medium text-slate-600 hover:bg-emerald-50 transition-all';
            document.getElementById('btn-imtihan').className = mode === 'imtihan' ? 'flex-1 py-2 px-4 rounded-full text-sm font-medium transition-all bg-emerald-800 text-white shadow-sm' : 'flex-1 py-2 px-4 rounded-full text-sm font-medium text-slate-600 hover:bg-emerald-50 transition-all';
            document.getElementById('btn-liste').className = mode === 'liste' ? 'flex-1 py-2 px-4 rounded-full text-sm font-medium transition-all bg-emerald-800 text-white shadow-sm' : 'flex-1 py-2 px-4 rounded-full text-sm font-medium text-slate-600 hover:bg-emerald-50 transition-all';

            // Görünürlük
            viewTefekkur.classList.add('hidden');
            viewImtihan.classList.add('hidden');
            viewListe.classList.add('hidden');
            controlsTefekkur.classList.add('hidden');
            progressContainer.classList.add('hidden');

            if (mode === 'tefekkur') {
                viewTefekkur.classList.remove('hidden');
                controlsTefekkur.classList.remove('hidden');
                progressContainer.classList.remove('hidden');
            } else if (mode === 'imtihan') {
                viewImtihan.classList.remove('hidden');
                initQuiz();
            } else if (mode === 'liste') {
                viewListe.classList.remove('hidden');
            }
            
            // Otomatiği durdur eğer mod değişirse
            if (isAutoPlaying) toggleAutoPlay();
        }

        // LİSTE MODU
        function renderList() {
            const listContainer = document.getElementById('full-list');
            let html = '';
            esmaList.forEach(item => {
                html += `
                <div class="flex items-center p-3 hover:bg-emerald-50 rounded border-b border-slate-100 last:border-0 transition-colors">
                    <div class="w-8 h-8 rounded-full bg-emerald-100 text-emerald-800 flex items-center justify-center text-xs font-bold mr-3">${item.id}</div>
                    <div class="flex-1">
                        <div class="flex justify-between items-baseline">
                            <h4 class="font-bold text-emerald-900">${item.tr}</h4>
                            <span class="arabic-font text-xl text-emerald-700">${item.ar}</span>
                        </div>
                        <p class="text-xs text-slate-500 mt-1">${item.mean}</p>
                    </div>
                </div>`;
            });
            listContainer.innerHTML = html;
        }

        // İMTİHAN MODU
        let currentQuizIndex = 0;
        let quizScore = 0;

        function initQuiz() {
            generateQuizQuestion();
        }

        function generateQuizQuestion() {
            // Rastgele bir esma seç
            const target = esmaList[Math.floor(Math.random() * esmaList.length)];
            
            // Yanlış cevaplar
            let options = [target];
            while(options.length < 4) {
                const random = esmaList[Math.floor(Math.random() * esmaList.length)];
                if(!options.includes(random)) options.push(random);
            }
            
            // Karıştır
            options.sort(() => Math.random() - 0.5);

            document.getElementById('quiz-question').innerText = `"${target.mean}" \n\nmanasına gelen Esma hangisidir?`;
            
            const optionsHtml = options.map(opt => `
                <button onclick="checkAnswer(this, '${opt.tr}', '${target.tr}')" class="w-full text-left p-3 rounded border border-slate-200 hover:bg-emerald-50 hover:border-emerald-300 transition-all">
                    <span class="arabic-font text-lg mr-2 text-emerald-700 w-8 inline-block">${opt.ar}</span>
                    <span class="font-medium">${opt.tr}</span>
                </button>
            `).join('');

            document.getElementById('quiz-options').innerHTML = optionsHtml;
            document.getElementById('quiz-feedback').innerHTML = '';
            document.getElementById('next-q-btn').classList.add('hidden');
            
            // Soru sayısını güncelle (şimdilik random sonsuz döngü)
            currentQuizIndex++;
            document.getElementById('quiz-q-num').innerText = currentQuizIndex;
        }

        function checkAnswer(btn, selected, correct) {
            const allBtns = document.getElementById('quiz-options').children;
            for(let b of allBtns) {
                b.disabled = true; // Hepsini kilitle
                if(b.innerText.includes(correct)) {
                    b.classList.add('bg-emerald-100', 'border-emerald-500'); // Doğruyu yeşil yap
                }
            }

            const feedback = document.getElementById('quiz-feedback');
            
            if(selected === correct) {
                btn.classList.add('bg-emerald-200');
                feedback.innerText = "Maşallah, bildiniz!";
                feedback.className = "mt-4 text-center h-6 font-bold text-sm text-emerald-600";
            } else {
                btn.classList.add('bg-red-100', 'border-red-300');
                feedback.innerText = `Doğrusu: ${correct}`;
                feedback.className = "mt-4 text-center h-6 font-bold text-sm text-red-500";
            }
            
            document.getElementById('next-q-btn').classList.remove('hidden');
        }

        function nextQuestion() {
            generateQuizQuestion();
        }

        // Başlat
        init();

    </script>
</body>
</html>
